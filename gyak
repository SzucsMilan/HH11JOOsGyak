using System;

namespace homero
{
    class HomersekletProba
    {
        static void Main(string[] args)
        {
            Console.WriteLine("homerseklet");

            /*
    Hozzon létre négy hőmérséklet objektumot. 
            Az első kettő adatait ellenőrzött módon olvassa
be: az 1. adatai 15 és Celsius, a 2. adatai 300 és Kelvin, 
            az utolsó kettő értéke pedig 0-
100 között véletlenszerűen generált Celsius. 
            Tárolja el ezeket az objektumokat egy tömbben.
             */
            Homerseklet[] homersekletek = new Homerseklet[4];

            homersekletek[0] = new Homerseklet(15);
            homersekletek[1] = new Homerseklet(300, mertek.KELVIN);

            Random veletlenobjketum = new Random();

            for (int i = 2; i < 4; i++)
            {
                homersekletek[i] = new Homerseklet(veletlenobjketum.Next(0, 101));
            }

            Tombkiir(homersekletek);

            /*
 Konvertálja az 1. Celsius mértékegységű objektum értékét Kelvin-re 
            majd írja ki az értékét.
 Konvertálja a 2. Kelvin mértékegységű objektum értékét Celsius-ra 
            majd írja ki az értékét.
             */

            Console.Write(homersekletek[0] + " : ");
            Console.WriteLine(Homerseklet
                        .HomersekletetKonvertal(homersekletek[0].HomersekletErtek, 
                        mertek.KELVIN));

            Console.Write(homersekletek[1] + " : ");
            Console.WriteLine(Homerseklet
                        .HomersekletetKonvertal(homersekletek[1].HomersekletErtek,
                        mertek.CELSIUS));

            double atlagHomerseklet = AtlagHomerseklet(homersekletek);
            Console.WriteLine($"atlaghom.: {atlagHomerseklet}");
        }

        private static double AtlagHomerseklet(Homerseklet[] homersekletek)
        {
            /*
 Írjon metódust, amely paraméterként megkapja ezt a tömböt és visszaadja az
átlaghőmérsékletet Kelvinben. 
            Ügyeljen arra, hogy ha a hőmérséklet Celsius volt, akkor
azt előbb Kelvinre kell konvertálni! 
            Írassa is ki ezt az átlaghőmérsékletet!
             */
            double szumma = 0;

            for (int i = 0; i < homersekletek.Length; i++)
            {
                if (homersekletek[i].Mertekegyseg == mertek.CELSIUS)
                {
                    szumma += Homerseklet.HomersekletetKonvertal(
                            homersekletek[i].HomersekletErtek, mertek.KELVIN);
                }
                else
                {
                    szumma += homersekletek[i].HomersekletErtek;
                }
            }

            if (homersekletek.Length > 0)
            {
                return szumma / homersekletek.Length;
            }
            else
            {
                return -1;
            }
        }

        private static void Tombkiir(Homerseklet[] homersekletek)
        {
            foreach (var homerseklet in homersekletek)
            {
                Console.WriteLine(homerseklet);
            }
        }
    }
}



// MASIK
using System;
using System.Collections.Generic;
using System.Text;

namespace homero
{
    public enum mertek { CELSIUS, KELVIN}

    class Homerseklet
    {
        private double homerseklet;
        private mertek mertekegyseg;

        public double HomersekletErtek 
        { get => homerseklet; set => homerseklet = value; }
        public mertek Mertekegyseg 
        { get => mertekegyseg; set => mertekegyseg = value; }

        public Homerseklet(double homerseklet, mertek mertekegyseg)
        {
            this.homerseklet = homerseklet;
            this.mertekegyseg = mertekegyseg;
        }

        /*
        public Homerseklet(double homerseklet)
        {
            this.homerseklet = homerseklet;
            this.mertekegyseg = mertek.CELSIUS;
        }
        */
        public Homerseklet(double homerseklet):this(homerseklet, mertek.CELSIUS)
        { }

        public override string ToString()
        {
            return homerseklet + " " + mertekegyseg;
        }

        public static double HomersekletetKonvertal(double ertek, 
                                                        mertek mertekegyseg)
        {
            /* (0 Celsius = 273,15 Kelvin;
            Celsius -> Kelvin: x + 273,15, 
            Kelvin -> Celsius: x – 273,15)*/
            if (mertekegyseg == mertek.CELSIUS)
            {
                return ertek - 273.15;
            }
            else
            {
                return ertek + 273.15;
            }
        }

    }
}
